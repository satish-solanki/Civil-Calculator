<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brick Calculator</title>
  <style>
    :root{--bg:#ffffff;--card:#f3f3f3;--accent:#06b6d4;--muted:#555555;color-scheme:light}
    *{box-sizing:border-box;transition:all 0.3s ease;}
    body{font-family:Inter,system-ui,Segoe UI,Arial;min-height:100vh;margin:0;background:var(--bg);color:#111;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{background:var(--card);border-radius:12px;padding:20px;max-width:920px;width:100%;box-shadow:0 6px 30px rgba(0,0,0,0.1);transition:transform 0.3s ease, box-shadow 0.3s ease;}
    .card:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(0,0,0,0.2);}
    h1{margin:0 0 8px;font-size:20px;transition:color 0.3s ease;}
    h1:hover{color:var(--accent);}
    p.lead{margin:0 0 18px;color:var(--muted);font-size:13px;}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    label{display:block;font-size:13px;margin-bottom:6px;color:#333}
    input[type=number], select{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;background:transparent;color:inherit;font-size:14px;transition:all 0.3s ease;}
    input[type=number]:hover, select:hover{border-color:var(--accent);box-shadow:0 0 5px rgba(6,182,212,0.3);}
    input[type=number]:focus, select:focus{border-color:var(--accent);outline:none;box-shadow:0 0 8px rgba(6,182,212,0.5);}
    .row{display:flex;gap:12px}
    .actions{display:flex;gap:8px;margin-top:14px}
    button{padding:10px 14px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer;font-weight:600;transition:all 0.3s ease;}
    button:hover{background:darkcyan;transform:scale(1.05);}
    button.secondary{background:transparent;border:1px solid #ccc;color:var(--muted)}
    button.secondary:hover{background:var(--accent);color:#fff;transform:scale(1.05);}
    .result{margin-top:18px;padding:12px;border-radius:10px;background:#e0f7fa;transition:all 0.3s ease;}
    .result .big{font-size:28px;font-weight:700;transition:transform 0.3s ease;}
    .result .big:hover{transform:scale(1.1);color:var(--accent);}
    .small{font-size:13px;color:var(--muted)}
    .full-width{grid-column:1 / -1}
    h4{margin:10px 0 5px;font-size:15px;}
    @media (max-width:720px){.grid{grid-template-columns:1fr}.row{flex-direction:column}}
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>Brick Calculator</h1>
    <p class="lead">Estimate how many bricks and how much material you need to build a wall. Includes mortar and wastage options.</p>

    <div class="grid">
      <div>
        <label>Wall length</label>
        <div class="row">
          <input id="wallLength" type="number" min="0" step="0.01" placeholder="e.g. 5" value="5" />
          <select id="wallLengthUnit"><option value="m">m</option><option value="cm">cm</option><option value="mm">mm</option></select>
        </div>
      </div>

      <div>
        <label>Wall height</label>
        <div class="row">
          <input id="wallHeight" type="number" min="0" step="0.01" placeholder="e.g. 2.5" value="2.5" />
          <select id="wallHeightUnit"><option value="m">m</option><option value="cm">cm</option><option value="mm">mm</option></select>
        </div>
      </div>

      <div>
        <label>Wall thickness</label>
        <div class="row">
          <input id="wallThickness" type="number" min="0" step="0.01" placeholder="e.g. 0.115" value="0.115" />
          <select id="wallThicknessUnit"><option value="m" selected>m</option><option value="cm">cm</option><option value="mm">mm</option></select>
        </div>
        <p class="small">Typical single-brick wall = 0.115 m (115 mm)</p>
      </div>

      <div>
        <label>Brick size (L × H × W)</label>
        <div class="row">
          <input id="brickLength" type="number" min="0" step="0.1" placeholder="length" value="190" />
          <input id="brickHeight" type="number" min="0" step="0.1" placeholder="height" value="90" />
          <input id="brickWidth" type="number" min="0" step="0.1" placeholder="width" value="90" />
        </div>
        <div style="margin-top:8px" class="row">
          <select id="brickUnit"><option value="mm" selected>mm</option><option value="cm">cm</option><option value="m">m</option></select>
          <input id="mortar" type="number" min="0" step="0.1" placeholder="mortar (mm)" value="10" />
          <div style="flex:1"></div>
        </div>
        <p class="small">Common brick: 190×90×90 mm, mortar usually 8–10 mm</p>
      </div>

      <div>
        <label>Wastage / breakage (%)</label>
        <input id="wastage" type="number" min="0" step="0.1" placeholder="e.g. 5" value="5" />
        <p class="small">Percent to add for brick waste (default 5%)</p>
      </div>
      
      <div id="openings">
        <!-- This div is hidden/shown by JS based on the checkbox state -->
        <label>Openings area (sum of doors/windows) in m²</label>
        <input id="openingsArea" type="number" min="0" step="0.01" placeholder="e.g. 2.5" value="0" />
      </div>
      <script>document.getElementById('openings').style.display='none';</script>

      <div>
        <label>Mortar Mix Ratio (Cement : Sand)</label>
        <div class="row">
          <input id="cementRatio" type="number" min="1" step="1" placeholder="Cement (e.g. 1)" value="1" />
          <input id="sandRatio" type="number" min="1" step="1" placeholder="Sand (e.g. 6)" value="6" />
        </div>
        <p class="small">Commonly 1:4, 1:5, or 1:6</p>
      </div>

      <div class="full-width">
        <label>Calculation options</label>
        <div class="row">
          <label style="display:flex;align-items:center;gap:8px"><input id="includeMortar" type="checkbox" checked /> Include mortar thickness in brick layout</label>
          <label style="display:flex;align-items:center;gap:8px"><input id="subtractOpenings" type="checkbox" /> Subtract openings (doors/windows)</label>
        </div>
      </div>

      <div class="full-width actions">
        <button id="calc">Calculate</button>
        <button id="reset" class="secondary">Reset</button>
      </div>

      <div class="full-width result" id="resultBox" style="display:none">
        <div><span class="small">Estimated bricks required</span></div>
        <div class="big" id="bricksNeeded">0</div>
        <div style="margin-top:8px" class="small" id="details"></div>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Utility Function for Unit Conversion ---
        const unitToMeters = (value, unit) => {
            if (value === null || isNaN(value)) return 0;
            switch (unit) {
                case 'cm':
                    return value / 100;
                case 'mm':
                    return value / 1000;
                case 'm':
                default:
                    return value;
            }
        };

        // --- DOM Elements ---
        const $ = id => document.getElementById(id);

        // Wall inputs
        const wallLengthInput = $('wallLength');
        const wallHeightInput = $('wallHeight');
        const wallThicknessInput = $('wallThickness');
        const wallLengthUnit = $('wallLengthUnit');
        const wallHeightUnit = $('wallHeightUnit');
        const wallThicknessUnit = $('wallThicknessUnit');

        // Brick inputs
        const brickLengthInput = $('brickLength');
        const brickHeightInput = $('brickHeight');
        const brickWidthInput = $('brickWidth');
        const brickUnit = $('brickUnit');
        const mortarInput = $('mortar');
        const wastageInput = $('wastage');

        // Material inputs
        const cementRatioInput = $('cementRatio');
        const sandRatioInput = $('sandRatio');

        // Options
        const includeMortarCheckbox = $('includeMortar');
        const subtractOpeningsCheckbox = $('subtractOpenings');
        const openingsContainer = $('openings'); 
        const openingsAreaInput = $('openingsArea');

        // Buttons and Output
        const calculateButton = $('calc');
        const resetButton = $('reset');
        const resultBox = $('resultBox');
        const bricksNeededOutput = $('bricksNeeded');
        const detailsOutput = $('details');

        // --- Core Logic ---

        const updateOpeningsVisibility = () => {
            openingsContainer.style.display = subtractOpeningsCheckbox.checked ? 'block' : 'none';
            if (!subtractOpeningsCheckbox.checked) {
                openingsAreaInput.value = '0';
            }
        };

        const calculateBricks = () => {
            try {
                // 1. Get and Convert Wall Dimensions to Meters
                const wallLength = unitToMeters(parseFloat(wallLengthInput.value), wallLengthUnit.value);
                const wallHeight = unitToMeters(parseFloat(wallHeightInput.value), wallHeightUnit.value);
                const wallThickness = unitToMeters(parseFloat(wallThicknessInput.value), wallThicknessUnit.value);

                // 2. Get and Convert Brick/Mortar Dimensions to Meters
                const brickLengthRaw = unitToMeters(parseFloat(brickLengthInput.value), brickUnit.value);
                const brickHeightRaw = unitToMeters(parseFloat(brickHeightInput.value), brickUnit.value);
                const brickWidth = unitToMeters(parseFloat(brickWidthInput.value), brickUnit.value); 
                
                const mortarThickness = unitToMeters(parseFloat(mortarInput.value), 'mm');
                const wastageRate = parseFloat(wastageInput.value) / 100 || 0;

                // Input validation
                if (wallLength <= 0 || wallHeight <= 0 || wallThickness <= 0 || brickLengthRaw <= 0 || brickHeightRaw <= 0 || brickWidth <= 0) {
                    bricksNeededOutput.textContent = '0';
                    detailsOutput.textContent = 'Please enter valid positive dimensions for the wall and bricks.';
                    resultBox.style.display = 'block';
                    return;
                }

                // 3. Calculate Wall Area and Effective Area
                const wallArea = wallLength * wallHeight;
                let openingsArea = 0;
                let effectiveWallArea = wallArea;

                if (subtractOpeningsCheckbox.checked) {
                    openingsArea = parseFloat(openingsAreaInput.value) || 0;
                    effectiveWallArea = Math.max(0, wallArea - openingsArea);
                }
                
                // 4. Calculate Effective Wall Volume
                const effectiveWallVolume = effectiveWallArea * wallThickness;

                // 5. Calculate Volume of one Brick Unit (Brick + Mortar on all 3 dimensions: L, H, W)
                let brickUnitVolume;
                if (includeMortarCheckbox.checked) {
                    const brickLengthWithMortar = brickLengthRaw + mortarThickness;
                    const brickHeightWithMortar = brickHeightRaw + mortarThickness;
                    const brickWidthWithMortar = brickWidth + mortarThickness;
                    
                    brickUnitVolume = brickLengthWithMortar * brickHeightWithMortar * brickWidthWithMortar;
                } else {
                    brickUnitVolume = brickLengthRaw * brickHeightRaw * brickWidth;
                }

                // --- BRICK COUNT CALCULATION ---
                // 6. Total Raw Bricks Needed (Wall Volume / Brick Unit Volume)
                const totalRawBricks = effectiveWallVolume / brickUnitVolume;

                // 7. Apply Wastage (for bricks only)
                const totalBricksWithWastage = totalRawBricks * (1 + wastageRate);

                // 8. Final Result (round up to nearest whole brick)
                const finalBricks = Math.ceil(totalBricksWithWastage);


                // --- MATERIAL CALCULATION (Mortar, Cement, Sand) ---

                // Brick volume without mortar (in m³)
                const brickVolumeRaw = brickLengthRaw * brickHeightRaw * brickWidth;
                
                // Total volume occupied by raw bricks in the wall
                // We use the floor/raw count here as you only need enough mortar for the *number* of bricks you calculated.
                const totalBrickVolumeRaw = Math.floor(totalRawBricks) * brickVolumeRaw;

                // Wet Mortar Volume (Total Wall Volume - Total Raw Brick Volume)
                const wetMortarVolume = effectiveWallVolume - totalBrickVolumeRaw;
                
                // Dry Mortar Volume (Applying a bulking factor for wet-to-dry, commonly 1.33)
                const DRY_MORTAR_FACTOR = 1.33; 
                const dryMortarVolume = wetMortarVolume * DRY_MORTAR_FACTOR;

                // Get Mortar Mix Ratios
                const cementRatio = parseFloat(cementRatioInput.value) || 1;
                const sandRatio = parseFloat(sandRatioInput.value) || 6;
                const totalRatio = cementRatio + sandRatio;

                // Material Quantities (Based on Dry Mortar Volume)
                const cementCUM = dryMortarVolume * (cementRatio / totalRatio);
                const sandCUM = dryMortarVolume * (sandRatio / totalRatio);

                // Constants for Cement Conversion (Standard 50kg bag)
                const CEMENT_DENSITY_KG_PER_CUM = 1440; // kg/m³
                const CEMENT_VOLUME_PER_BAG = 0.0347; // m³ per bag (approx. 50kg/1440 kg/m³)
                
                const cementKG = cementCUM * CEMENT_DENSITY_KG_PER_CUM;
                const cementBags = cementCUM / CEMENT_VOLUME_PER_BAG;


                // --- Update Output ---
                bricksNeededOutput.textContent = finalBricks.toLocaleString('en-US');
                
                // Prepare details breakdown
                let detailsHtml = `
                    <h4>Brick Estimate Details</h4>
                    Wall Volume (L×H×T): <strong>${effectiveWallVolume.toFixed(3)} m³</strong>.
                    Brick Unit Volume (w/ ${includeMortarCheckbox.checked ? `${(mortarThickness*1000).toFixed(0)}mm Mortar` : 'No Mortar'}): <strong>${brickUnitVolume.toFixed(5)} m³</strong>.
                    ${subtractOpeningsCheckbox.checked ? `Area after openings (${openingsArea.toFixed(2)} m²) subtraction: <strong>${effectiveWallArea.toFixed(2)} m²</strong>. <br>` : ''}
                    Raw Bricks Needed: <strong>${totalRawBricks.toFixed(0).toLocaleString('en-US')}</strong>.
                    Wastage (${(wastageRate * 100).toFixed(1)}%): <strong>${(finalBricks - totalRawBricks).toFixed(0).toLocaleString('en-US')} bricks</strong>.
                    ---
                    <h4>Mortar & Material Estimates (${cementRatio}:${sandRatio} mix)</h4>
                    Wet Mortar Volume: <strong>${wetMortarVolume.toFixed(4)} m³</strong>.
                    Dry Mortar Volume (w/ 1.33 Factor): <strong>${dryMortarVolume.toFixed(4)} m³</strong>.
                    <br>
                    Cement: <strong>${cementCUM.toFixed(4)} m³</strong> ($\approx$ <strong>${cementBags.toFixed(2)} bags</strong> / <strong>${cementKG.toFixed(2)} kg</strong>).
                    Sand: <strong>${sandCUM.toFixed(4)} m³</strong>.
                `;

                detailsOutput.innerHTML = detailsHtml;
                resultBox.style.display = 'block';

            } catch (error) {
                console.error("Calculation error:", error);
                bricksNeededOutput.textContent = 'Error';
                detailsOutput.textContent = 'An error occurred during calculation. Check input values.';
                resultBox.style.display = 'block';
            }
        };

        const resetForm = () => {
            // Reset all number inputs to their default values 
            wallLengthInput.value = "5";
            wallHeightInput.value = "2.5";
            wallThicknessInput.value = "0.115";
            brickLengthInput.value = "190";
            brickHeightInput.value = "90";
            brickWidthInput.value = "90";
            mortarInput.value = "10";
            wastageInput.value = "5";
            openingsAreaInput.value = "0";

            // Reset new material inputs
            cementRatioInput.value = "1";
            sandRatioInput.value = "6";

            // Reset selectors and checkboxes to default
            wallLengthUnit.value = "m";
            wallHeightUnit.value = "m";
            wallThicknessUnit.value = "m";
            brickUnit.value = "mm";
            includeMortarCheckbox.checked = true;
            subtractOpeningsCheckbox.checked = false;

            // Hide the result and openings container
            resultBox.style.display = 'none';
            updateOpeningsVisibility();
        };

        // --- Event Listeners ---
        subtractOpeningsCheckbox.addEventListener('change', updateOpeningsVisibility);
        calculateButton.addEventListener('click', calculateBricks);
        resetButton.addEventListener('click', resetForm);

        // Initial setup on load 
        updateOpeningsVisibility();
    });
  </script>
</body>
</html>
